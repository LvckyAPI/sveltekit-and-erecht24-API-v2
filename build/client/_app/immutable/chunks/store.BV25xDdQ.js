import{ak as f,a9 as _,al as w,R as k,am as E,an as B,ao as O,_ as T,ap as p,e as W,aj as j,h as A,A as D}from"./runtime.s4LxpMgD.js";function M(r){var e=w,u=k;f(null),_(null);try{return r()}finally{f(e),_(u)}}const C=new Set,F=new Set;function N(r,e,u,a){function n(t){if(a.capture||P.call(e,t),!t.cancelBubble)return M(()=>u.call(this,t))}return r.startsWith("pointer")||r.startsWith("touch")||r==="wheel"?B(()=>{e.addEventListener(r,n,a)}):e.addEventListener(r,n,a),n}function G(r,e,u,a,n){var t={capture:a,passive:n},i=N(r,e,u,t);(e===document.body||e===window||e===document)&&E(()=>{e.removeEventListener(r,i,t)})}function P(r){var y;var e=this,u=e.ownerDocument,a=r.type,n=((y=r.composedPath)==null?void 0:y.call(r))||[],t=n[0]||r.target,i=0,v=r.__root;if(v){var b=n.indexOf(v);if(b!==-1&&(e===document||e===window)){r.__root=e;return}var h=n.indexOf(e);if(h===-1)return;b<=h&&(i=b)}if(t=n[i]||r.target,t!==e){O(r,"currentTarget",{configurable:!0,get(){return t||u}});var L=w,S=k;f(null),_(null);try{for(var s,g=[];t!==null;){var d=t.assignedSlot||t.parentNode||t.host||null;try{var c=t["__"+a];if(c!==void 0&&!t.disabled)if(T(c)){var[q,...x]=c;q.apply(t,[r,...x])}else c.call(t,r)}catch(o){s?g.push(o):s=o}if(r.cancelBubble||d===e||d===null)break;t=d}if(s){for(let o of g)queueMicrotask(()=>{throw o});throw s}}finally{r.__root=e,delete r.currentTarget,f(L),_(S)}}}function R(r,e,u){if(r==null)return e(void 0),p;const a=W(()=>r.subscribe(e,u));return a.unsubscribe?()=>a.unsubscribe():a}let l=!1;function H(r,e,u){const a=u[e]??(u[e]={store:null,source:j(void 0),unsubscribe:p});if(a.store!==r)if(a.unsubscribe(),a.store=r??null,r==null)a.source.v=void 0,a.unsubscribe=p;else{var n=!0;a.unsubscribe=R(r,t=>{n?a.source.v=t:D(a.source,t)}),n=!1}return A(a.source)}function I(){const r={};return E(()=>{for(var e in r)r[e].unsubscribe()}),r}function J(r){var e=l;try{return l=!1,[r(),l]}finally{l=e}}export{H as a,C as b,J as c,G as e,P as h,F as r,I as s};
